"use strict";(self.webpackChunkaime_tma=self.webpackChunkaime_tma||[]).push([[4245],{12174:function(V,ee,t){t.d(ee,{Z:function(){return dt}});var Ae=t(5574),x=t.n(Ae),r=t(67294),i={tradeModal:"tradeModal___tG7Hl",walletConnectAccount:"walletConnectAccount___XgK6I",indexModalContainer:"indexModalContainer___s9Tjf",indexModalHeader:"indexModalHeader___u5gtK",indexModalHeaderIcon:"indexModalHeaderIcon___krIv3",indexModalHeaderIconImg:"indexModalHeaderIconImg___KSihE",indexModalHeaderTitle:"indexModalHeaderTitle___JqbTY",indexModalContent:"indexModalContent___iXhJW",indexModalContentCharacter:"indexModalContentCharacter___P3URP",indexModalContentCharacterLeft:"indexModalContentCharacterLeft___ra6Lr",indexModalContentCharacterLeftAvatar:"indexModalContentCharacterLeftAvatar___FdehZ",indexModalContentCharacterLeftAvatarImg:"indexModalContentCharacterLeftAvatarImg___jngPV",indexModalContentCharacterLeftName:"indexModalContentCharacterLeftName___ijGFA",indexModalContentCharacterRight:"indexModalContentCharacterRight___SzkC5",indexModalContentCharacterRightTitle:"indexModalContentCharacterRightTitle___fiYDM",indexModalContentCharacterRightPower:"indexModalContentCharacterRightPower___xSiwC",indexModalContentItem:"indexModalContentItem___tuTiw",indexModalContentItemLeft:"indexModalContentItemLeft___qtPVK",indexModalContentItemIcon:"indexModalContentItemIcon___Gm8GI",indexModalContentItemIconImg:"indexModalContentItemIconImg___vxAwc",indexModalContentItemIconBuy:"indexModalContentItemIconBuy___HPmyh",indexModalContentItemIconSell:"indexModalContentItemIconSell___SKdlg",indexModalContentItemTitle:"indexModalContentItemTitle___QDOx_",indexModalContentItemRight:"indexModalContentItemRight___KbNmY",indexModalContentItemRightIcon:"indexModalContentItemRightIcon___NQG0m"},ue=t(46393),_e=t(16568),pe=t(25303),je=t(2585),Re=t(89583),Ne=t(93967),le=t.n(Ne),Z=t(82188),me=t(15009),E=t.n(me),ge=t(99289),te=t.n(ge),a={selectModalContainer:"selectModalContainer___i_S5V",selectModalHeader:"selectModalHeader___fNExG",selectModalHeaderIcon:"selectModalHeaderIcon___R_VSO",selectModalHeaderIconImg:"selectModalHeaderIconImg___TMY_3",selectModalHeaderIconAvatar:"selectModalHeaderIconAvatar___UWqAf",selectModalHeaderIconAvatarImg:"selectModalHeaderIconAvatarImg___M2Kru",selectModalHeaderTitle:"selectModalHeaderTitle___lRj9V",selectModalHeaderSubtitle:"selectModalHeaderSubtitle___YEAJz",selectModalHeaderFlat:"selectModalHeaderFlat___z9Thd",selectModalContent:"selectModalContent___tPkdD",selectModalContentItem:"selectModalContentItem___ARf0p",selectModalContentItemPrice:"selectModalContentItemPrice___pymEM",selectModalContentItemPower:"selectModalContentItemPower___ueFLC",selectModalContentItemSelected:"selectModalContentItemSelected___pP7jo",selectModalContentItemFull:"selectModalContentItemFull___gcMDo",selectModalContentItemFullRight:"selectModalContentItemFullRight___l9JFm",selectModalContentItemFullPrice:"selectModalContentItemFullPrice___R3w1m",selectModalContentItemFullControl:"selectModalContentItemFullControl___gTtn3",selectModalContentItemFullControlMinus:"selectModalContentItemFullControlMinus___v0qw4",selectModalContentItemFullControlNumber:"selectModalContentItemFullControlNumber___L3sec",selectModalContentItemFullControlNumberInput:"selectModalContentItemFullControlNumberInput___o189y",selectModalContentItemFullControlPlus:"selectModalContentItemFullControlPlus___fk6nX",selectModalContentItemButton:"selectModalContentItemButton___qaURW",detailModalContainer:"detailModalContainer___wn3BW",detailModalHeader:"detailModalHeader___jMTIh",detailModalHeaderIcon:"detailModalHeaderIcon___LY3cN",detailModalHeaderIconImg:"detailModalHeaderIconImg___NW_5H",detailModalHeaderIconAvatar:"detailModalHeaderIconAvatar___ZkXSZ",indexModalContentCharacterLeftAvatarImg:"indexModalContentCharacterLeftAvatarImg___Qo6BH",detailModalHeaderTitle:"detailModalHeaderTitle___pH4Fy",detailModalContent:"detailModalContent___zg8Iw",detailModalContentTitle:"detailModalContentTitle___PnZnY",detailModalContentTitleLeftTitle:"detailModalContentTitleLeftTitle___ep3Od",detailModalContentTitleRight:"detailModalContentTitleRight___Qy0rX",detailModalContentTitleRightValue:"detailModalContentTitleRightValue___EWdW0",detailModalContentTitleRightIcon:"detailModalContentTitleRightIcon___hg95p",detailModalContentLine:"detailModalContentLine___o93Qv",detailModalContentTotal:"detailModalContentTotal___PhPtQ",detailModalContentTotalLeft:"detailModalContentTotalLeft___HJbmo",detailModalContentTotalLeftTitle:"detailModalContentTotalLeftTitle___xncah",detailModalContentTotalLeftPrice:"detailModalContentTotalLeftPrice___h556g",detailModalContentTotalRight:"detailModalContentTotalRight___wyHj2",detailModalContentBody:"detailModalContentBody___KkVz8",detailModalContentBodyItem:"detailModalContentBodyItem___jaK1o",detailModalContentBodyItemTitle:"detailModalContentBodyItemTitle___BfE7W",detailModalContentBodyItemValue:"detailModalContentBodyItemValue___QogJI",detailModalFooter:"detailModalFooter___Pbked",detailModalFooterLeft:"detailModalFooterLeft___r4LkA",detailModalFooterRight:"detailModalFooterRight___phvZx",detailModalFooterButton:"detailModalFooterButton___wbb75"},ve=t(22458),de=t(15867),xe=t(8193),We=t(79352),H={purchaseModal:"purchaseModal___P1QUf",purchaseContainer:"purchaseContainer___JmdRA",purchaseHeader:"purchaseHeader___KzTLS",purchaseHeaderIconSuccess:"purchaseHeaderIconSuccess___iYf_i",purchaseHeaderIconImg:"purchaseHeaderIconImg___DFyUe",purchaseHeaderIconFailed:"purchaseHeaderIconFailed___DVal8",purchaseHeaderTitle:"purchaseHeaderTitle___CHCex",purchaseContent:"purchaseContent___CTA3r",purchaseFooter:"purchaseFooter___FZpIB",purchaseFooterBtn:"purchaseFooterBtn___ZE5NF"},e=t(85893),ze=function(n){var u=n.visible,v=n.setVisible,_=n.transactionHash,c=n.mode;return(0,e.jsx)(pe.Z,{centered:!0,title:null,footer:null,className:H.purchaseModal,open:u,onCancel:function(){return v(!1)},closeIcon:null,children:(0,e.jsxs)("div",{className:H.purchaseContainer,children:[(0,e.jsxs)("div",{className:H.purchaseHeader,children:[c==="purchase"&&(0,e.jsx)("div",{className:H.purchaseHeaderIconSuccess,children:(0,e.jsx)("img",{className:H.purchaseHeaderIconImg,src:t(96125),alt:"icon"})}),c==="sale"&&(0,e.jsx)("div",{className:H.purchaseHeaderIconSale,children:(0,e.jsx)("img",{className:H.purchaseHeaderIconImg,src:t(90632),alt:"icon"})}),(0,e.jsxs)("div",{className:H.purchaseHeaderTitle,children:[c==="purchase"&&"Purchase Success",c==="sale"&&"Sale Success"]})]}),(0,e.jsxs)("div",{className:H.purchaseContent,children:["Transaction: ",_]}),(0,e.jsx)("div",{className:H.purchaseFooter,children:(0,e.jsx)(de.ZP,{block:!0,type:"primary",className:H.purchaseFooterBtn,size:"large",onClick:function(){return v(!1)},children:"OK"})})]})})},Ze=ze,Qe=function(n){var u=n.visible,v=n.setVisible,_=n.error,c=n.mode;return(0,e.jsx)(pe.Z,{centered:!0,title:null,footer:null,className:H.purchaseModal,open:u,onCancel:function(){return v(!1)},closeIcon:null,children:(0,e.jsxs)("div",{className:H.purchaseContainer,children:[(0,e.jsxs)("div",{className:H.purchaseHeader,children:[c==="purchase"&&(0,e.jsx)("div",{className:H.purchaseHeaderIconFailed,children:(0,e.jsx)("img",{className:H.purchaseHeaderIconImg,src:t(74620),alt:"icon"})}),c==="sale"&&(0,e.jsx)("div",{className:H.purchaseHeaderIconSale,children:(0,e.jsx)("img",{className:H.purchaseHeaderIconImg,src:t(98608),alt:"icon"})}),(0,e.jsxs)("div",{className:H.purchaseHeaderTitle,children:[c==="purchase"&&"Purchase Failed",c==="sale"&&"Sale Failed"]})]}),(0,e.jsx)("div",{className:H.purchaseContent,children:_.message}),(0,e.jsx)("div",{className:H.purchaseFooter,children:(0,e.jsx)(de.ZP,{block:!0,type:"primary",className:H.purchaseFooterBtn,size:"large",onClick:function(){return v(!1)},children:"OK"})})]})})},Ge=Qe,B=t(69077),b=t(88594),I=t(39625),Ke=t(45908),Ye=t(21621),Xe=function(n){var u,v,_,c,h,N=n.powerValue,w=n.setPowerValue,g=(0,Z.useModel)("useSetting"),o=g.character,M=r.useState(0),S=x()(M,2),s=S[0],P=S[1],T=function(y){var O,R=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"getBuyPriceAfterFee",args:["0x".concat(o==null||(O=o.wallet)===null||O===void 0?void 0:O.optimism),y]}),A=R.data;return A};return(0,e.jsxs)("div",{className:a.selectModalContainer,children:[(0,e.jsxs)("div",{className:a.selectModalHeader,children:[(0,e.jsxs)("div",{className:a.selectModalHeaderIcon,children:[(0,e.jsx)("img",{className:a.selectModalHeaderIconImg,src:t(63346),alt:"buy"}),(0,e.jsx)("div",{className:a.selectModalHeaderIconAvatar,children:(0,e.jsx)(ue.Z,{className:a.selectModalHeaderIconAvatarImg,src:o==null?void 0:o.avatar_url,fallback:t(41508),alt:"avatar"})})]}),(0,e.jsx)("div",{className:a.selectModalHeaderTitle,children:"Buy"}),(0,e.jsxs)("div",{className:a.selectModalHeaderSubtitle,children:[(0,e.jsxs)("b",{children:[o==null?void 0:o.name,"\u2018s"]})," Power"]}),(0,e.jsxs)("div",{className:a.selectModalHeaderFlat,children:["1 Power \u2248 ",(0,I.d)((u=T(1))!==null&&u!==void 0?u:0n)," ETH"]})]}),(0,e.jsxs)("div",{className:a.selectModalContent,children:[(0,e.jsxs)("div",{className:le()(a.selectModalContentItem,s===1&&a.selectModalContentItemSelected),onClick:function(){P(1)},children:[(0,e.jsxs)("div",{className:a.selectModalContentItemPrice,children:[(0,I.d)((v=T(1))!==null&&v!==void 0?v:0n)," ETH"]}),(0,e.jsx)("div",{className:a.selectModalContentItemPower,children:"1 Power"})]}),(0,e.jsxs)("div",{className:le()(a.selectModalContentItem,s===10&&a.selectModalContentItemSelected),onClick:function(){P(10)},children:[(0,e.jsxs)("div",{className:a.selectModalContentItemPrice,children:[(0,I.d)((_=T(10))!==null&&_!==void 0?_:0n)," ETH"]}),(0,e.jsx)("div",{className:a.selectModalContentItemPower,children:"10 Power"})]}),(0,e.jsxs)("div",{className:le()(a.selectModalContentItem,s===30&&a.selectModalContentItemSelected),onClick:function(){P(30)},children:[(0,e.jsxs)("div",{className:a.selectModalContentItemPrice,children:[(0,I.d)((c=T(30))!==null&&c!==void 0?c:0n)," ETH"]}),(0,e.jsx)("div",{className:a.selectModalContentItemPower,children:"30 Power"})]})]}),(0,e.jsxs)("div",{className:a.selectModalContentItemFull,children:[(0,e.jsxs)("div",{className:a.selectModalContentItemFullLeft,children:[(0,e.jsxs)("div",{className:a.selectModalContentItemPrice,children:[(0,I.d)((h=T(s))!==null&&h!==void 0?h:0n)," ETH"]}),(0,e.jsxs)("div",{className:a.selectModalContentItemPower,children:[s," Power"]})]}),(0,e.jsx)("div",{className:a.selectModalContentItemFullRight,children:(0,e.jsxs)("div",{className:a.selectModalContentItemFullControl,children:[(0,e.jsx)("div",{className:a.selectModalContentItemFullControlMinus,onClick:function(){s>0&&P(s-1)},children:(0,e.jsx)(xe.ywL,{})}),(0,e.jsx)("div",{className:a.selectModalContentItemFullControlNumber,children:(0,e.jsx)(ve.Z,{className:a.selectModalContentItemFullControlNumberInput,bordered:!1,controls:!1,min:0,max:100,defaultValue:0,value:s,type:"number",onChange:function(y){P(y)}})}),(0,e.jsx)("div",{className:a.selectModalContentItemFullControlPlus,onClick:function(){s<100&&P(s+1)},children:(0,e.jsx)(xe.Lfi,{})})]})})]}),(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:a.selectModalContentItemButton,disabled:s===0,onClick:function(){w(s)},children:"Confirm Purchase"})]})},Je=function(n){var u,v,_,c,h,N,w,g,o,M,S,s=n.powerValue,P=n.setPurchaseSuccessVisible,T=n.setPurchaseFailedVisible,d=n.setError,y=n.setTransactionHash,O=n.setBuyModalVisible,R=(0,Z.useModel)("useAccess"),A=R.accessToken,z=(0,Z.useModel)("useWagmi"),Q=z.publicClient,re=(0,Z.useModel)("useSetting"),p=re.character,m=r.useState(!1),G=x()(m,2),ce=G[0],he=G[1],Le=r.useState(0),Ee=x()(Le,2),Ie=Ee[0],Te=Ee[1],$e=r.useState(0n),Be=x()($e,2),L=Be[0],U=Be[1],ke=(0,B.mA)(),W=ke.address,fe=(0,B.KQ)({address:W}),F=fe.data,De=fe.isError,be=fe.isLoading,$=(0,B.LN)(),Me=$.chain,k=(0,B.g0)(),Ve=k.chains,ye=k.error,Oe=k.isLoading,we=k.pendingChainId,oe=k.switchNetwork,Se=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"getBuyPrice",args:["0x".concat(p==null||(u=p.wallet)===null||u===void 0?void 0:u.optimism),s]}),j=Se.data,Ce=(0,B.GG)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"buyPowers"}),X=Ce.data,Pe=Ce.isLoading,Ue=Ce.isSuccess,He=Ce.error,J=Ce.write;return(0,r.useEffect)(function(){te()(E()().mark(function K(){var C,q;return E()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,Q==null?void 0:Q.estimateContractGas({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"buyPowers",args:["0x".concat(p==null||(C=p.wallet)===null||C===void 0?void 0:C.optimism),s],account:W,value:j});case 2:q=ie.sent,U(q??0n);case 4:case"end":return ie.stop()}},K)}))()},[Q]),(0,r.useEffect)(function(){te()(E()().mark(function K(){var C;return E()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(Ue&&(X!=null&&X.hash)&&A)){D.next=6;break}return O(!1),P(!0),y(X==null?void 0:X.hash),D.next=6,(0,Ye.mX)({chain_id:b.an===null||b.an===void 0||(C=b.an.chains[0])===null||C===void 0||(C=C.id)===null||C===void 0?void 0:C.toString(),address:W,hash:X==null?void 0:X.hash},A);case 6:He&&(T(!0),d(He));case 7:case"end":return D.stop()}},K)}))()},[A,X,Ue,He]),(0,r.useEffect)(function(){(0,Ke.j)({token:"ethereum",currency:"usd"}).then(function(K){var C=K.response,q=K.data;if((C==null?void 0:C.status)===200){var D;Te(q==null||(D=q.ethereum)===null||D===void 0?void 0:D.usd)}})},[]),(0,r.useEffect)(function(){ye&&_e.Z.error({key:"switchNetworkError",message:"Switch Network Error",description:ye==null?void 0:ye.message})},[ye]),(0,e.jsxs)("div",{className:a.detailModalContainer,children:[(0,e.jsxs)("div",{className:a.detailModalHeader,children:[(0,e.jsxs)("div",{className:a.detailModalHeaderIcon,children:[(0,e.jsx)("img",{className:a.detailModalHeaderIconImg,src:t(36799),alt:"transaction"}),(0,e.jsx)("div",{className:a.detailModalHeaderIconAvatar,children:(0,e.jsx)(ue.Z,{className:a.indexModalContentCharacterLeftAvatarImg,src:p==null?void 0:p.avatar_url,fallback:t(41508),alt:"avatar"})})]}),(0,e.jsx)("div",{className:a.detailModalHeaderTitle,children:"Transaction Details"})]}),(0,e.jsxs)("div",{className:a.detailModalContent,children:[(0,e.jsxs)("div",{className:a.detailModalContentTitle,onClick:function(){return he(!ce)},children:[(0,e.jsx)("div",{className:a.detailModalContentTitleLeft,children:(0,e.jsx)("div",{className:a.detailModalContentTitleLeftTitle,children:"Purchase Details"})}),(0,e.jsxs)("div",{className:a.detailModalContentTitleRight,children:[(0,e.jsxs)("div",{className:a.detailModalContentTitleRightValue,children:["$",(Number((0,I.d)((L??0n)+(j??0n)))*Ie).toFixed(2)]}),(0,e.jsx)(xe.i0B,{className:a.detailModalContentTitleRightIcon,style:{transform:ce?"rotate(180deg)":"rotate(0deg)"}})]})]}),(0,e.jsx)("div",{className:a.detailModalContentLine}),(0,e.jsxs)("div",{className:a.detailModalContentBody,style:{height:ce?120:0},children:[(0,e.jsxs)("div",{className:a.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:a.detailModalContentBodyItemTitle,children:"From"}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItemValue,children:[W==null?void 0:W.slice(0,6),"...",W==null?void 0:W.slice(-4)]})]}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:a.detailModalContentBodyItemTitle,children:"To"}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItemValue,children:[(v="0x".concat(p==null||(_=p.wallet)===null||_===void 0?void 0:_.optimism))===null||v===void 0?void 0:v.slice(0,5),"...",(c="0x".concat(p==null||(h=p.wallet)===null||h===void 0?void 0:h.optimism))===null||c===void 0?void 0:c.slice(-4)]})]}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:a.detailModalContentBodyItemTitle,children:"Action"}),(0,e.jsx)("div",{className:a.detailModalContentBodyItemValue,children:"Buy Power"})]}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItem,children:[(0,e.jsxs)("div",{className:a.detailModalContentBodyItemTitle,children:[(0,e.jsx)("b",{children:"Est. Fees"})," (",Number((0,I.d)(L??0n)).toFixed(2)," ETH)"]}),(0,e.jsxs)("div",{className:a.detailModalContentBodyItemValue,children:["USD ",(0,e.jsxs)("b",{children:["$",(Number((0,I.d)(L??0n))*Ie).toFixed(2)]})]})]})]}),(0,e.jsxs)("div",{className:a.detailModalContentTotal,children:[(0,e.jsxs)("div",{className:a.detailModalContentTotalLeft,children:[(0,e.jsxs)("div",{className:a.detailModalContentTotalLeftTitle,children:["Total ",(0,e.jsx)("span",{children:"(including fees)"})]}),(0,e.jsxs)("div",{className:a.detailModalContentTotalLeftPrice,children:[(0,I.d)(j??0n)," ETH"]})]}),(0,e.jsx)("div",{className:a.detailModalContentTotalRight,children:(0,e.jsxs)("div",{className:a.detailModalContentTotalRightFlat,children:["USD ",(0,e.jsxs)("b",{children:["$",(Number((0,I.d)((L??0n)+(j??0n)))*Ie).toFixed(2)]})]})})]})]}),(0,e.jsxs)("div",{className:a.detailModalFooter,children:[(0,e.jsxs)("div",{className:a.detailModalFooterLeft,children:[(0,e.jsx)(We.PdK,{}),(0,e.jsxs)("span",{children:[W==null?void 0:W.slice(0,6),"...",W==null?void 0:W.slice(-4)]})]}),(0,e.jsx)("div",{className:a.detailModalFooterRight,children:be??De?(0,e.jsx)("span",{children:"0.00 ETH"}):(0,e.jsxs)("span",{children:[F==null?void 0:F.formatted," ",F==null?void 0:F.symbol]})})]}),(Me==null?void 0:Me.id)!==((N=Ve[0])===null||N===void 0?void 0:N.id)?(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:a.detailModalFooterButton,loading:Oe&&we===((w=Ve[0])===null||w===void 0?void 0:w.id),onClick:function(){var C;oe==null||oe((C=Ve[0])===null||C===void 0?void 0:C.id)},children:(0,e.jsx)("span",{children:"Change Network"})}):(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:a.detailModalFooterButton,loading:Pe,disabled:parseFloat((g=F==null?void 0:F.formatted)!==null&&g!==void 0?g:"0")===0||parseFloat((o=F==null?void 0:F.formatted)!==null&&o!==void 0?o:"0")<parseFloat((0,I.d)(j??0n+L)),onClick:te()(E()().mark(function K(){var C;return E()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,J({args:["0x".concat(p==null||(C=p.wallet)===null||C===void 0?void 0:C.optimism),s],value:j??0n+L});case 2:case"end":return D.stop()}},K)})),children:parseFloat((M=F==null?void 0:F.formatted)!==null&&M!==void 0?M:"0")===0||parseFloat((S=F==null?void 0:F.formatted)!==null&&S!==void 0?S:"0")<parseFloat((0,I.d)(j??0n+L))?(0,e.jsx)("span",{children:"Insufficient Balance"}):(0,e.jsx)("span",{children:"Confirm Purchase"})})]})},qe=function(n){var u=n.visible,v=n.setVisible,_=n.transactionHash,c=n.setTransactionHash,h=r.useState(0),N=x()(h,2),w=N[0],g=N[1],o=r.useState(!1),M=x()(o,2),S=M[0],s=M[1],P=r.useState(!1),T=x()(P,2),d=T[0],y=T[1],O=r.useState(new Error("")),R=x()(O,2),A=R[0],z=R[1];return(0,r.useEffect)(function(){u||(g(0),s(!1),y(!1),z(new Error("")))},[u]),(0,e.jsxs)(e.Fragment,{children:[w===0?(0,e.jsx)(Xe,{powerValue:w,setPowerValue:g}):(0,e.jsx)(Je,{powerValue:w,setPurchaseSuccessVisible:s,setPurchaseFailedVisible:y,setError:z,setTransactionHash:c,setBuyModalVisible:v}),(0,e.jsx)(Ze,{visible:S,setVisible:s,transactionHash:_,mode:"purchase"}),(0,e.jsx)(Ge,{visible:d,setVisible:y,error:A,mode:"purchase"})]})},et=qe,l={selectModalContainer:"selectModalContainer___AtA2n",selectModalHeader:"selectModalHeader___xy_rU",selectModalHeaderIcon:"selectModalHeaderIcon___Yyunz",selectModalHeaderIconImg:"selectModalHeaderIconImg___yUyg6",selectModalHeaderIconAvatar:"selectModalHeaderIconAvatar___DWUcE",selectModalHeaderIconAvatarImg:"selectModalHeaderIconAvatarImg___RE4pE",selectModalHeaderTitle:"selectModalHeaderTitle___d53FZ",selectModalHeaderSubtitle:"selectModalHeaderSubtitle___ZWvT8",selectModalHeaderFlat:"selectModalHeaderFlat___kNCF6",selectModalContent:"selectModalContent___fteeV",selectModalContentItem:"selectModalContentItem___cDOEb",selectModalContentItemPrice:"selectModalContentItemPrice___hdP5H",selectModalContentItemPower:"selectModalContentItemPower___SMvBO",selectModalContentItemSelected:"selectModalContentItemSelected___h236H",selectModalContentItemFull:"selectModalContentItemFull___WEoiD",selectModalContentItemFullRight:"selectModalContentItemFullRight___5Ok9p",selectModalContentItemFullPrice:"selectModalContentItemFullPrice___Y7xUA",selectModalContentItemFullControl:"selectModalContentItemFullControl___m2KCU",selectModalContentItemFullControlMinus:"selectModalContentItemFullControlMinus___Yj7vF",selectModalContentItemFullControlNumber:"selectModalContentItemFullControlNumber___HfBOw",selectModalContentItemFullControlNumberInput:"selectModalContentItemFullControlNumberInput___UMxJD",selectModalContentItemFullControlPlus:"selectModalContentItemFullControlPlus___abFzY",selectModalContentItemButton:"selectModalContentItemButton___EPWWY",detailModalContainer:"detailModalContainer____vVQe",detailModalHeader:"detailModalHeader___RpwXA",detailModalHeaderIcon:"detailModalHeaderIcon___mff7X",detailModalHeaderIconImg:"detailModalHeaderIconImg___UN6Vv",detailModalHeaderIconAvatar:"detailModalHeaderIconAvatar___dz_in",indexModalContentCharacterLeftAvatarImg:"indexModalContentCharacterLeftAvatarImg___Egeuh",detailModalHeaderTitle:"detailModalHeaderTitle___SmAeE",detailModalContent:"detailModalContent___L0eYO",detailModalContentTitle:"detailModalContentTitle___yngdh",detailModalContentTitleLeftTitle:"detailModalContentTitleLeftTitle___GRBNA",detailModalContentTitleRight:"detailModalContentTitleRight___PCbHt",detailModalContentTitleRightValue:"detailModalContentTitleRightValue___i5FKE",detailModalContentTitleRightIcon:"detailModalContentTitleRightIcon___Mu2IP",detailModalContentLine:"detailModalContentLine___i4Xqc",detailModalContentTotal:"detailModalContentTotal___DmucG",detailModalContentTotalLeft:"detailModalContentTotalLeft___gcWGP",detailModalContentTotalLeftTitle:"detailModalContentTotalLeftTitle___BOkIM",detailModalContentTotalLeftPrice:"detailModalContentTotalLeftPrice___w63HA",detailModalContentTotalRight:"detailModalContentTotalRight___acbvK",detailModalContentBody:"detailModalContentBody___w_d4s",detailModalContentBodyItem:"detailModalContentBodyItem___u76Ma",detailModalContentBodyItemTitle:"detailModalContentBodyItemTitle___U0FSp",detailModalContentBodyItemValue:"detailModalContentBodyItemValue___MNkWD",detailModalFooter:"detailModalFooter___NS4Rw",detailModalFooterLeft:"detailModalFooterLeft___uo04o",detailModalFooterRight:"detailModalFooterRight___Loyhu",detailModalFooterButton:"detailModalFooterButton___IYpSf"},tt=t(2453),at=function(n){var u,v,_,c,h,N,w=n.powerValue,g=n.setPowerValue,o=(0,Z.useModel)("useSetting"),M=o.character,S=(0,Z.useModel)("useWallet"),s=S.address,P=r.useState(0),T=x()(P,2),d=T[0],y=T[1],O=r.useState(0n),R=x()(O,2),A=R[0],z=R[1],Q=function(m){var G,ce=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"getSellPriceAfterFee",args:["0x".concat(M==null||(G=M.wallet)===null||G===void 0?void 0:G.optimism),m]}),he=ce.data;return he},re=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"powerBalance",args:["0x".concat(M==null||(u=M.wallet)===null||u===void 0?void 0:u.optimism),s],onSuccess:function(m){z(m??0n)}});return(0,e.jsxs)("div",{className:l.selectModalContainer,children:[(0,e.jsxs)("div",{className:l.selectModalHeader,children:[(0,e.jsxs)("div",{className:l.selectModalHeaderIcon,children:[(0,e.jsx)("img",{className:l.selectModalHeaderIconImg,src:t(99594),alt:"sell"}),(0,e.jsx)("div",{className:l.selectModalHeaderIconAvatar,children:(0,e.jsx)(ue.Z,{className:l.selectModalHeaderIconAvatarImg,src:M==null?void 0:M.avatar_url,fallback:t(41508),alt:"avatar"})})]}),(0,e.jsx)("div",{className:l.selectModalHeaderTitle,children:"Sale"}),(0,e.jsxs)("div",{className:l.selectModalHeaderSubtitle,children:[(0,e.jsxs)("b",{children:[M==null?void 0:M.name,"\u2018s"]})," Power"]}),(0,e.jsxs)("div",{className:l.selectModalHeaderFlat,children:["1 Power \u2248 ",(0,I.d)((v=Q(1))!==null&&v!==void 0?v:0n)," ETH"]})]}),(0,e.jsxs)("div",{className:l.selectModalContent,children:[(0,e.jsxs)("div",{className:le()(l.selectModalContentItem,d===1&&l.selectModalContentItemSelected),onClick:function(){y(1)},children:[(0,e.jsxs)("div",{className:l.selectModalContentItemPrice,children:[(0,I.d)((_=Q(1))!==null&&_!==void 0?_:0n)," ETH"]}),(0,e.jsx)("div",{className:l.selectModalContentItemPower,children:"1 Power"})]}),(0,e.jsxs)("div",{className:le()(l.selectModalContentItem,d===10&&l.selectModalContentItemSelected),onClick:function(){y(10)},children:[(0,e.jsxs)("div",{className:l.selectModalContentItemPrice,children:[(0,I.d)((c=Q(10))!==null&&c!==void 0?c:0n)," ETH"]}),(0,e.jsx)("div",{className:l.selectModalContentItemPower,children:"10 Power"})]}),(0,e.jsxs)("div",{className:le()(l.selectModalContentItem,d===30&&l.selectModalContentItemSelected),onClick:function(){y(30)},children:[(0,e.jsxs)("div",{className:l.selectModalContentItemPrice,children:[(0,I.d)((h=Q(30))!==null&&h!==void 0?h:0n)," ETH"]}),(0,e.jsx)("div",{className:l.selectModalContentItemPower,children:"30 Power"})]})]}),(0,e.jsxs)("div",{className:l.selectModalContentItemFull,children:[(0,e.jsxs)("div",{className:l.selectModalContentItemFullLeft,children:[(0,e.jsxs)("div",{className:l.selectModalContentItemPrice,children:[(0,I.d)((N=Q(d))!==null&&N!==void 0?N:0n)," ETH"]}),(0,e.jsxs)("div",{className:l.selectModalContentItemPower,children:[d," Power"]})]}),(0,e.jsx)("div",{className:l.selectModalContentItemFullRight,children:(0,e.jsxs)("div",{className:l.selectModalContentItemFullControl,children:[(0,e.jsx)("div",{className:l.selectModalContentItemFullControlMinus,onClick:function(){d>0&&y(d-1)},children:(0,e.jsx)(xe.ywL,{})}),(0,e.jsx)("div",{className:l.selectModalContentItemFullControlNumber,children:(0,e.jsx)(ve.Z,{className:l.selectModalContentItemFullControlNumberInput,bordered:!1,controls:!1,min:0,max:100,defaultValue:0,value:d,type:"number",onChange:function(m){y(m)}})}),(0,e.jsx)("div",{className:l.selectModalContentItemFullControlPlus,onClick:function(){d<100&&y(d+1)},children:(0,e.jsx)(xe.Lfi,{})})]})})]}),(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:l.selectModalContentItemButton,disabled:d===0,onClick:function(){d<=Number((0,I.d)(A??0n))?g(d):tt.ZP.error("You don't have enough power to sell.")},children:"Confirm Sell"})]})},lt=function(n){var u,v,_,c,h,N,w,g,o,M,S,s,P=n.powerValue,T=n.setSellSuccessVisible,d=n.setSellFailedVisible,y=n.setError,O=n.setTransactionHash,R=n.setSellModalVisible,A=(0,Z.useModel)("useAccess"),z=A.accessToken,Q=(0,Z.useModel)("useWagmi"),re=Q.publicClient,p=(0,Z.useModel)("useSetting"),m=p.character,G=r.useState(!1),ce=x()(G,2),he=ce[0],Le=ce[1],Ee=r.useState(0),Ie=x()(Ee,2),Te=Ie[0],$e=Ie[1],Be=r.useState(0n),L=x()(Be,2),U=L[0],ke=L[1],W=r.useState(0n),fe=x()(W,2),F=fe[0],De=fe[1],be=(0,B.mA)(),$=be.address,Me=(0,B.KQ)({address:$}),k=Me.data,Ve=Me.isError,ye=Me.isLoading,Oe=(0,B.LN)(),we=Oe.chain,oe=(0,B.g0)(),Se=oe.chains,j=oe.error,Ce=oe.isLoading,X=oe.pendingChainId,Pe=oe.switchNetwork,Ue=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"powerBalance",args:["0x".concat(m==null||(u=m.wallet)===null||u===void 0?void 0:u.optimism),$],onSuccess:function(f){De(f??0n)}}),He=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"getSellPrice",args:["0x".concat(m==null||(v=m.wallet)===null||v===void 0?void 0:v.optimism),P]}),J=He.data,K=(0,B.GG)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"sellPowers"}),C=K.data,q=K.isLoading,D=K.isSuccess,ie=K.error,rt=K.write;return(0,r.useEffect)(function(){te()(E()().mark(function ae(){var f,ne;return E()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Fe.next=2,re==null?void 0:re.estimateContractGas({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"sellPowers",args:["0x".concat(m==null||(f=m.wallet)===null||f===void 0?void 0:f.optimism),P],account:$,value:J});case 2:ne=Fe.sent,ke(ne??0n);case 4:case"end":return Fe.stop()}},ae)}))()},[re]),(0,r.useEffect)(function(){te()(E()().mark(function ae(){var f;return E()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(D&&(C!=null&&C.hash)&&z)){Y.next=6;break}return R(!1),T(!0),O(C==null?void 0:C.hash),Y.next=6,(0,Ye.mX)({chain_id:b.an===null||b.an===void 0||(f=b.an.chains[0])===null||f===void 0||(f=f.id)===null||f===void 0?void 0:f.toString(),address:$,hash:C==null?void 0:C.hash},z);case 6:ie&&(d(!0),y(ie));case 7:case"end":return Y.stop()}},ae)}))()},[z,C,D,ie]),(0,r.useEffect)(function(){(0,Ke.j)({token:"ethereum",currency:"usd"}).then(function(ae){var f=ae.response,ne=ae.data;if((f==null?void 0:f.status)===200){var Y;$e(ne==null||(Y=ne.ethereum)===null||Y===void 0?void 0:Y.usd)}})},[]),(0,r.useEffect)(function(){j&&_e.Z.error({key:"switchNetworkError",message:"Switch Network Error",description:j==null?void 0:j.message})},[j]),(0,e.jsxs)("div",{className:l.detailModalContainer,children:[(0,e.jsxs)("div",{className:l.detailModalHeader,children:[(0,e.jsxs)("div",{className:l.detailModalHeaderIcon,children:[(0,e.jsx)("img",{className:l.detailModalHeaderIconImg,src:t(36799),alt:"transaction"}),(0,e.jsx)("div",{className:l.detailModalHeaderIconAvatar,children:(0,e.jsx)(ue.Z,{className:l.indexModalContentCharacterLeftAvatarImg,src:m==null?void 0:m.avatar_url,fallback:t(41508),alt:"avatar"})})]}),(0,e.jsx)("div",{className:l.detailModalHeaderTitle,children:"Transaction Details"})]}),(0,e.jsxs)("div",{className:l.detailModalContent,children:[(0,e.jsxs)("div",{className:l.detailModalContentTitle,onClick:function(){return Le(!he)},children:[(0,e.jsx)("div",{className:l.detailModalContentTitleLeft,children:(0,e.jsx)("div",{className:l.detailModalContentTitleLeftTitle,children:"Sale Details"})}),(0,e.jsxs)("div",{className:l.detailModalContentTitleRight,children:[(0,e.jsxs)("div",{className:l.detailModalContentTitleRightValue,children:["$",(Number((0,I.d)((U??0n)+(J??0n)))*Te).toFixed(2)]}),(0,e.jsx)(xe.i0B,{className:l.detailModalContentTitleRightIcon,style:{transform:he?"rotate(180deg)":"rotate(0deg)"}})]})]}),(0,e.jsx)("div",{className:l.detailModalContentLine}),(0,e.jsxs)("div",{className:l.detailModalContentBody,style:{height:he?120:0},children:[(0,e.jsxs)("div",{className:l.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:l.detailModalContentBodyItemTitle,children:"From"}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItemValue,children:[$==null?void 0:$.slice(0,6),"...",$==null?void 0:$.slice(-4)]})]}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:l.detailModalContentBodyItemTitle,children:"To"}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItemValue,children:[(_="0x".concat(m==null||(c=m.wallet)===null||c===void 0?void 0:c.optimism))===null||_===void 0?void 0:_.slice(0,5),"...",(h="0x".concat(m==null||(N=m.wallet)===null||N===void 0?void 0:N.optimism))===null||h===void 0?void 0:h.slice(-4)]})]}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItem,children:[(0,e.jsx)("div",{className:l.detailModalContentBodyItemTitle,children:"Action"}),(0,e.jsx)("div",{className:l.detailModalContentBodyItemValue,children:"Buy Power"})]}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItem,children:[(0,e.jsxs)("div",{className:l.detailModalContentBodyItemTitle,children:[(0,e.jsx)("b",{children:"Est. Fees"})," (",Number((0,I.d)(U??0n)).toFixed(2)," ETH)"]}),(0,e.jsxs)("div",{className:l.detailModalContentBodyItemValue,children:["USD ",(0,e.jsxs)("b",{children:["$",(Number((0,I.d)(U??0n))*Te).toFixed(2)]})]})]})]}),(0,e.jsxs)("div",{className:l.detailModalContentTotal,children:[(0,e.jsxs)("div",{className:l.detailModalContentTotalLeft,children:[(0,e.jsxs)("div",{className:l.detailModalContentTotalLeftTitle,children:["Total ",(0,e.jsx)("span",{children:"(including fees)"})]}),(0,e.jsxs)("div",{className:l.detailModalContentTotalLeftPrice,children:[(0,I.d)(J??0n)," ETH"]})]}),(0,e.jsx)("div",{className:l.detailModalContentTotalRight,children:(0,e.jsxs)("div",{className:l.detailModalContentTotalRightFlat,children:["USD ",(0,e.jsxs)("b",{children:["$",(Number((0,I.d)((U??0n)+(J??0n)))*Te).toFixed(2)]})]})})]})]}),(0,e.jsxs)("div",{className:l.detailModalFooter,children:[(0,e.jsxs)("div",{className:l.detailModalFooterLeft,children:[(0,e.jsx)(We.PdK,{}),(0,e.jsxs)("span",{children:[$==null?void 0:$.slice(0,6),"...",$==null?void 0:$.slice(-4)]})]}),(0,e.jsxs)("div",{className:l.detailModalFooterRight,children:[Number(F)," Power"]})]}),(we==null?void 0:we.id)!==((w=Se[0])===null||w===void 0?void 0:w.id)?(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:l.detailModalFooterButton,loading:Ce&&X===((g=Se[0])===null||g===void 0?void 0:g.id),onClick:function(){var f;Pe==null||Pe((f=Se[0])===null||f===void 0?void 0:f.id)},children:(0,e.jsx)("span",{children:"Change Network"})}):(0,e.jsx)(de.ZP,{block:!0,type:"primary",size:"large",className:l.detailModalFooterButton,loading:q,disabled:parseFloat((o=k==null?void 0:k.formatted)!==null&&o!==void 0?o:"0")===0||parseFloat((M=k==null?void 0:k.formatted)!==null&&M!==void 0?M:"0")<parseFloat((0,I.d)(U))||F===0n,onClick:te()(E()().mark(function ae(){var f;return E()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,rt({args:["0x".concat(m==null||(f=m.wallet)===null||f===void 0?void 0:f.optimism),P],value:U});case 2:case"end":return Y.stop()}},ae)})),children:parseFloat((S=k==null?void 0:k.formatted)!==null&&S!==void 0?S:"0")===0||parseFloat((s=k==null?void 0:k.formatted)!==null&&s!==void 0?s:"0")<parseFloat((0,I.d)(U))||F===0n?(0,e.jsx)("span",{children:"Insufficient Balance"}):(0,e.jsx)("span",{children:"Confirm Purchase"})})]})},nt=function(n){var u=n.visible,v=n.setVisible,_=n.transactionHash,c=n.setTransactionHash,h=r.useState(0),N=x()(h,2),w=N[0],g=N[1],o=r.useState(!1),M=x()(o,2),S=M[0],s=M[1],P=r.useState(!1),T=x()(P,2),d=T[0],y=T[1],O=r.useState(new Error("")),R=x()(O,2),A=R[0],z=R[1];return(0,r.useEffect)(function(){u||(g(0),s(!1),y(!1),z(new Error("")))},[u]),(0,e.jsxs)(e.Fragment,{children:[w===0?(0,e.jsx)(at,{powerValue:w,setPowerValue:g}):(0,e.jsx)(lt,{powerValue:w,setSellSuccessVisible:s,setSellFailedVisible:y,setError:z,setTransactionHash:c,setSellModalVisible:v}),(0,e.jsx)(Ze,{visible:S,setVisible:s,transactionHash:_,mode:"sale"}),(0,e.jsx)(Ge,{visible:d,setVisible:y,error:A,mode:"sale"})]})},st=nt,ot=function(n){var u,v,_,c,h=n.setSelectMode,N=(0,Z.useModel)("useWallet"),w=N.address,g=(0,Z.useModel)("useSetting"),o=g.character,M=r.useState(0n),S=x()(M,2),s=S[0],P=S[1],T=r.useState(0n),d=x()(T,2),y=d[0],O=d[1],R=r.useState(0),A=x()(R,2),z=A[0],Q=A[1],re=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"powerBalance",args:["0x".concat(o==null||(u=o.wallet)===null||u===void 0?void 0:u.optimism),w],onSuccess:function(G){P(G??0n)}}),p=(0,B.do)({address:"0x".concat(b.j9.Optimism.Powers),abi:t(43379),functionName:"getSellPriceAfterFee",args:["0x".concat(o==null||(v=o.wallet)===null||v===void 0?void 0:v.optimism),s??0n],onSuccess:function(G){O(G??0n)}});return(0,e.jsxs)("div",{className:i.indexModalContainer,children:[(0,e.jsxs)("div",{className:i.indexModalHeader,children:[(0,e.jsx)("div",{className:i.indexModalHeaderIcon,children:(0,e.jsx)("img",{className:i.indexModalHeaderIconImg,src:t(32753),alt:"icon"})}),(0,e.jsx)("div",{className:i.indexModalHeaderTitle,children:"Trade Power"})]}),(0,e.jsxs)("div",{className:i.indexModalContent,children:[(0,e.jsxs)("div",{className:i.indexModalContentCharacter,children:[(0,e.jsxs)("div",{className:i.indexModalContentCharacterLeft,children:[(0,e.jsx)("div",{className:i.indexModalContentCharacterLeftAvatar,children:(0,e.jsx)(ue.Z,{className:i.indexModalContentCharacterLeftAvatarImg,src:o==null?void 0:o.avatar_url,fallback:t(41508),alt:"avatar"})}),(0,e.jsx)("div",{className:i.indexModalContentCharacterLeftName,children:o==null?void 0:o.name})]}),(0,e.jsxs)("div",{className:i.indexModalContentCharacterRight,children:[(0,e.jsxs)("div",{className:i.indexModalContentCharacterRightTitle,children:["You own ",!!w&&((_=s==null?void 0:s.toString())!==null&&_!==void 0?_:"0")," power:"]}),(0,e.jsxs)("div",{className:i.indexModalContentCharacterRightPower,children:[(c=Number((0,I.d)(s??0n)))===null||c===void 0?void 0:c.toFixed(6)," ETH"]})]})]}),(0,e.jsxs)("div",{className:i.indexModalContentItem,onClick:function(){return h("buy")},children:[(0,e.jsxs)("div",{className:i.indexModalContentItemLeft,children:[(0,e.jsx)("div",{className:le()(i.indexModalContentItemIcon,i.indexModalContentItemIconBuy),children:(0,e.jsx)(je.EQO,{className:i.indexModalContentItemIconImg})}),(0,e.jsx)("div",{className:i.indexModalContentItemTitle,children:"Buy Power"})]}),(0,e.jsx)("div",{className:i.indexModalContentItemRight,children:(0,e.jsx)(Re.H_v,{className:i.indexModalContentItemRightIcon})})]}),(0,e.jsxs)("div",{className:i.indexModalContentItem,onClick:function(){return h("sell")},children:[(0,e.jsxs)("div",{className:i.indexModalContentItemLeft,children:[(0,e.jsx)("div",{className:le()(i.indexModalContentItemIcon,i.indexModalContentItemIconSell),children:(0,e.jsx)(je.U7v,{className:i.indexModalContentItemIconImg})}),(0,e.jsx)("div",{className:i.indexModalContentItemTitle,children:"Sell Power"})]}),(0,e.jsx)("div",{className:i.indexModalContentItemRight,children:(0,e.jsx)(Re.H_v,{className:i.indexModalContentItemRightIcon})})]})]})]})},it=function(n){var u=n.visible,v=n.setVisible,_=n.transactionHash,c=n.setTransactionHash,h=n.closeable,N=n.mode,w=(0,Z.useModel)("useWallet"),g=w.bindedAddress,o=(0,r.useState)(),M=x()(o,2),S=M[0],s=M[1],P=(0,B.mA)(),T=P.connector,d=P.address,y=(0,B.qL)(),O=y.disconnect;return(0,r.useEffect)(function(){u||s(void 0)},[u]),(0,r.useEffect)(function(){if(b.eM&&console.log("bindedAddress",g),b.eM&&console.log("connectAddress",d),g&&d&&g!==d){var R;_e.Z.error({key:"walletError",message:"Wallet Error",description:"Please use the wallet you binded. And please make sure you are on the right network. ".concat(b.an===null||b.an===void 0||(R=b.an.chains[0])===null||R===void 0?void 0:R.name," is required.")}),O(),v(!1)}},[g,d]),(0,e.jsxs)(pe.Z,{centered:!0,title:null,footer:null,className:i.tradeModal,open:u,onCancel:function(){return v(!1)},closeIcon:h??!0,maskClosable:h??!0,children:[(T==null?void 0:T.id)==="walletConnect"&&(0,e.jsx)("div",{className:i.walletConnectAccount,children:(0,e.jsx)("w3m-account-button",{})}),!S&&!N&&(0,e.jsx)(ot,{setSelectMode:s}),(S==="buy"||N==="buy")&&(0,e.jsx)(et,{visible:u,setVisible:v,transactionHash:_,setTransactionHash:c}),(S==="sell"||N==="sell")&&(0,e.jsx)(st,{visible:u,setVisible:v,transactionHash:_,setTransactionHash:c})]})},dt=it},45908:function(V,ee,t){t.d(ee,{K:function(){return le},j:function(){return Re}});var Ae=t(15009),x=t.n(Ae),r=t(97857),i=t.n(r),ue=t(99289),_e=t.n(ue),pe=t(88594),je=t(21621);function Re(me,E){return Ne.apply(this,arguments)}function Ne(){return Ne=_e()(x()().mark(function me(E,ge){return x()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,je.WY)("https://api.coingecko.com/api/v3/simple/price?ids=".concat(E.token,"&vs_currencies=").concat(E.currency),i()(i()({method:"GET",headers:{"Content-Type":"application/json"},data:E},ge||{}),{},{getResponse:!0})));case 1:case"end":return a.stop()}},me)})),Ne.apply(this,arguments)}function le(me,E){return Z.apply(this,arguments)}function Z(){return Z=_e()(x()().mark(function me(E,ge){var te;return x()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return te=new FormData,te.append("file",E),ve.abrupt("return",(0,je.WY)("https://".concat(pe.x$.host).concat(pe.x$.upload),i()(i()({method:"POST",data:te},ge||{}),{},{requestType:"form",getResponse:!0})));case 3:case"end":return ve.stop()}},me)})),Z.apply(this,arguments)}},63346:function(V,ee,t){V.exports=t.p+"static/buy.23e9ef0b.png"},74620:function(V,ee,t){V.exports=t.p+"static/purchase_failed.19ba60b1.png"},96125:function(V,ee,t){V.exports=t.p+"static/purchase_success.4ee796fb.png"},99594:function(V,ee,t){V.exports=t.p+"static/sale.dd967f1c.png"},98608:function(V,ee,t){V.exports=t.p+"static/sale_failed.19ba60b1.png"},90632:function(V,ee,t){V.exports=t.p+"static/sale_success.f6cf2cd8.png"},32753:function(V,ee,t){V.exports=t.p+"static/trade.474ac640.png"},36799:function(V,ee,t){V.exports=t.p+"static/transaction.15c2e5a7.png"},43379:function(V){V.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"trader","type":"address"},{"indexed":false,"internalType":"address","name":"aimeAddress","type":"address"},{"indexed":false,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"powerAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"priceAfterFee","type":"uint256"},{"indexed":false,"internalType":"address","name":"referrerAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"inputs":[],"name":"CREATOR_INIT_AMOUNT","outputs":[{"internalType":"uint32","name":"","type":"uint32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DECIMALS","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyPowers","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"feePercentage","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"initAIME","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"pool","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"powerBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"powersSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"referrer","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"referrerFeePercent","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"powerAddress","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sellPowers","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeDestination","type":"address"}],"name":"setFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"referrerAddress","type":"address"}],"name":"setReferrer","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]')}}]);
